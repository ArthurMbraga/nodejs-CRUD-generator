const connection = require('../database/connection');

module.exports = {
  {{#if methods.create}}
  async create({{entity.name}}) {
    const result = await connection('{{entity.tableName}}')
      .insert({{entity.name}});
    return result;
  },
  {{/if}}
  {{#if methods.read}}
  async getById({{entity.name}}_id) {
    const result = await connection('{{entity.tableName}}')
      .where({ {{entity.name}}_id })
      .select('*');
    return result;
  },
  {{/if}}
  {{#if methods.update}}
  async updateById({{entity.name}}_id, {{entity.name}}) {
    const result = await connection('{{entity.tableName}}')
      .where({ {{entity.name}}_id })
      .update({{entity.name}});
    return result;
  },
  {{/if}}
  {{#if methods.delete}}
  async deleteById({{entity.name}}_id) {
    const result = await connection('{{entity.tableName}}')
      .where({ {{entity.name}}_id })
      .delete();
    return result;
  },
  {{/if}}
};